{"ast":null,"code":"var _jsxFileName = \"/home/mclo/\\xC1rea de Trabalho/estilizacoes-css/solar-system/projeto-Star-Wars/src/context/auth.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport useFetch from '../hooks/useFetch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext({});\nexport function AuthProvider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const BASE_URL = 'https://swapi.dev/api/planets';\n  const {\n    dataApi,\n    loading\n  } = useFetch(BASE_URL);\n  const [optionsColumn, setOptionsColumn] = useState(['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n  const optionsComparison = ['maior que', 'menor que', 'igual a'];\n  const INITIAL_STATE = {\n    column: optionsColumn[0],\n    comparison: optionsComparison[0],\n    number: 0\n  };\n  const [filteredObjectValues, setFilteredObjectValues] = useState({\n    objectNames: [],\n    itensToFilter: [],\n    order: {\n      column: 'population',\n      sort: 'ASC'\n    }\n  });\n  const [filterValues, setFilterValues] = useState({});\n  const [numericFilter, setNumericFilter] = useState(INITIAL_STATE);\n  const [filterOnClick, setFilterOnClick] = useState(false);\n  const handleChange = _ref2 => {\n    let {\n      target\n    } = _ref2;\n    const {\n      name,\n      value\n    } = target;\n    setFilterValues({\n      [name]: value\n    });\n  };\n  const handleFilterChange = _ref3 => {\n    let {\n      target\n    } = _ref3;\n    const {\n      value,\n      name\n    } = target;\n    setNumericFilter({\n      ...numericFilter,\n      [name]: value\n    });\n  };\n  const handleFilterClick = () => {\n    const {\n      objectNames,\n      itensToFilter\n    } = filteredObjectValues;\n    setFilteredObjectValues({\n      ...filteredObjectValues,\n      objectNames: [...objectNames, Object.values(numericFilter).join(' ')],\n      itensToFilter: [...itensToFilter, numericFilter]\n    });\n    setOptionsColumn(optionsColumn.filter(el => el !== numericFilter.column));\n    setFilterValues(INITIAL_STATE);\n  };\n  const handleRemoveAllFilters = () => {\n    setFilteredObjectValues({\n      ...filteredObjectValues,\n      objectNames: '',\n      itensToFilter: []\n    });\n  };\n  const handleRemoveOneFilter = _ref4 => {\n    let {\n      target\n    } = _ref4;\n    const {\n      value\n    } = target;\n    const {\n      objectNames,\n      itensToFilter\n    } = filteredObjectValues;\n    const newItensToFilter = itensToFilter.filter(item => !target.value.includes(item.column));\n    setFilteredObjectValues({\n      ...filteredObjectValues,\n      objectNames: objectNames.filter(objName => objName !== target.value),\n      itensToFilter: newItensToFilter\n    });\n    setOptionsColumn([value.substring(0, value.indexOf(' ')), ...optionsColumn]);\n  };\n  const handleOrder = _ref5 => {\n    let {\n      target\n    } = _ref5;\n    setFilterOnClick(false);\n    const {\n      name,\n      value\n    } = target;\n    const {\n      order\n    } = filteredObjectValues;\n    setFilteredObjectValues({\n      ...filteredObjectValues,\n      order: {\n        ...order,\n        [name]: value\n      }\n    });\n  };\n  const handleOrderClick = () => {\n    setFilterOnClick(true);\n  };\n  let newData;\n  const obj = filterValues.search ? filterValues.search : '';\n  newData = dataApi === null || dataApi === void 0 ? void 0 : dataApi.filter(data => data.name.includes(obj));\n  if (filteredObjectValues.itensToFilter.length > 0) {\n    filteredObjectValues.itensToFilter.forEach(filter => {\n      var _newData;\n      newData = (_newData = newData) === null || _newData === void 0 ? void 0 : _newData.filter(element => {\n        switch (filter.comparison) {\n          case 'maior que':\n            return Number(element[filter.column]) > Number(filter.number);\n          case 'igual a':\n            return Number(element[filter.column]) === Number(filter.number);\n          case 'menor que':\n            return Number(element[filter.column]) < Number(filter.number);\n          default:\n            return [];\n        }\n      });\n    });\n  }\n  const {\n    order\n  } = filteredObjectValues;\n  const numberOfFalse = 1;\n  if (filterOnClick) {\n    const {\n      column,\n      sort\n    } = order;\n    if (sort === 'DESC') {\n      var _newData2;\n      newData = (_newData2 = newData) === null || _newData2 === void 0 ? void 0 : _newData2.filter(data => Object.keys(data)).sort((a, b) => {\n        if (a[column] === 'unknown') {\n          return a[column] < b[column];\n        }\n        return b[column] - a[column];\n      });\n    }\n    if (sort === 'ASC') {\n      var _newData3;\n      newData = (_newData3 = newData) === null || _newData3 === void 0 ? void 0 : _newData3.filter(data => Object.keys(data)).sort((a, b) => {\n        if (a[column] !== 'unknown') {\n          return -numberOfFalse;\n        }\n        return a[column] - b[column];\n      }).sort((a, b) => a[column] - b[column]);\n    }\n  }\n  const values = {\n    dataApi,\n    loading,\n    newData,\n    filteredObjectValues,\n    numericFilter,\n    optionsColumn,\n    optionsComparison,\n    handleChange,\n    handleFilterChange,\n    handleFilterClick,\n    handleRemoveAllFilters,\n    setFilteredObjectValues,\n    handleRemoveOneFilter,\n    handleOrder,\n    handleOrderClick\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: values,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthProvider, \"DnPpIotpkFr/WvI+eqWMhT5sG8Y=\", false, function () {\n  return [useFetch];\n});\n_c = AuthProvider;\nAuthProvider.propTypes = {\n  children: PropTypes.shape({}).isRequired\n};\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","PropTypes","useFetch","AuthContext","AuthProvider","children","BASE_URL","dataApi","loading","optionsColumn","setOptionsColumn","optionsComparison","INITIAL_STATE","column","comparison","number","filteredObjectValues","setFilteredObjectValues","objectNames","itensToFilter","order","sort","filterValues","setFilterValues","numericFilter","setNumericFilter","filterOnClick","setFilterOnClick","handleChange","target","name","value","handleFilterChange","handleFilterClick","Object","values","join","filter","el","handleRemoveAllFilters","handleRemoveOneFilter","newItensToFilter","item","includes","objName","substring","indexOf","handleOrder","handleOrderClick","newData","obj","search","data","length","forEach","element","Number","numberOfFalse","keys","a","b","propTypes","shape","isRequired"],"sources":["/home/mclo/Área de Trabalho/estilizacoes-css/solar-system/projeto-Star-Wars/src/context/auth.js"],"sourcesContent":["import { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport useFetch from '../hooks/useFetch';\n\nexport const AuthContext = createContext({});\n\nexport function AuthProvider({ children }) {\n  const BASE_URL = 'https://swapi.dev/api/planets';\n  const { dataApi, loading } = useFetch(BASE_URL);\n  const [optionsColumn, setOptionsColumn] = useState(['population', 'orbital_period',\n    'diameter', 'rotation_period', 'surface_water']);\n  const optionsComparison = ['maior que', 'menor que', 'igual a'];\n  const INITIAL_STATE = {\n    column: optionsColumn[0],\n    comparison: optionsComparison[0],\n    number: 0,\n  };\n  const [filteredObjectValues, setFilteredObjectValues] = useState({\n    objectNames: [],\n    itensToFilter: [],\n    order: { column: 'population', sort: 'ASC' },\n  });\n  const [filterValues, setFilterValues] = useState({});\n  const [numericFilter, setNumericFilter] = useState(INITIAL_STATE);\n  const [filterOnClick, setFilterOnClick] = useState(false);\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setFilterValues({\n      [name]: value,\n    });\n  };\n\n  const handleFilterChange = ({ target }) => {\n    const { value, name } = target;\n    setNumericFilter({\n      ...numericFilter,\n      [name]: value,\n    });\n  };\n  const handleFilterClick = () => {\n    const { objectNames, itensToFilter } = filteredObjectValues;\n    setFilteredObjectValues({\n      ...filteredObjectValues,\n      objectNames: [...objectNames, Object.values(numericFilter).join(' ')],\n      itensToFilter: [...itensToFilter, numericFilter],\n    });\n    setOptionsColumn(optionsColumn.filter((el) => el !== numericFilter.column));\n    setFilterValues(INITIAL_STATE);\n  };\n\n  const handleRemoveAllFilters = () => {\n    setFilteredObjectValues({\n      ...filteredObjectValues,\n      objectNames: '',\n      itensToFilter: [],\n    });\n  };\n  const handleRemoveOneFilter = ({ target }) => {\n    const { value } = target;\n    const { objectNames, itensToFilter } = filteredObjectValues;\n\n    const newItensToFilter = itensToFilter\n      .filter((item) => !target.value.includes(item.column));\n    setFilteredObjectValues({\n      ...filteredObjectValues,\n      objectNames: objectNames.filter((objName) => objName !== target.value),\n      itensToFilter: newItensToFilter,\n    });\n    setOptionsColumn([value.substring(0, value.indexOf(' ')), ...optionsColumn]);\n  };\n\n  const handleOrder = ({ target }) => {\n    setFilterOnClick(false);\n    const { name, value } = target;\n    const { order } = filteredObjectValues;\n    setFilteredObjectValues({\n      ...filteredObjectValues,\n      order: {\n        ...order,\n        [name]: value,\n      },\n    });\n  };\n  const handleOrderClick = () => {\n    setFilterOnClick(true);\n  };\n  let newData;\n  const obj = filterValues.search ? filterValues.search : '';\n  newData = dataApi?.filter((data) => data.name.includes(obj));\n\n  if (filteredObjectValues.itensToFilter.length > 0) {\n    filteredObjectValues.itensToFilter.forEach((filter) => {\n      newData = newData?.filter((element) => {\n        switch (filter.comparison) {\n        case 'maior que':\n          return Number(element[filter.column]) > Number(filter.number);\n        case 'igual a':\n          return Number(element[filter.column]) === Number(filter.number);\n        case 'menor que':\n          return Number(element[filter.column]) < Number(filter.number);\n        default:\n          return [];\n        }\n      });\n    });\n  }\n\n  const { order } = filteredObjectValues;\n  const numberOfFalse = 1;\n  if (filterOnClick) {\n    const { column, sort } = order;\n    if (sort === 'DESC') {\n      newData = newData?.filter((data) => (Object.keys(data)))\n        .sort((a, b) => {\n          if (a[column] === 'unknown') {\n            return a[column] < b[column];\n          }\n          return b[column] - a[column];\n        });\n    }\n    if (sort === 'ASC') {\n      newData = newData?.filter((data) => (Object.keys(data)))\n        .sort((a, b) => {\n          if (a[column] !== 'unknown') {\n            return -numberOfFalse;\n          }\n          return a[column] - b[column];\n        }).sort((a, b) => a[column] - b[column]);\n    }\n  }\n\n  const values = ({\n    dataApi,\n    loading,\n    newData,\n    filteredObjectValues,\n    numericFilter,\n    optionsColumn,\n    optionsComparison,\n    handleChange,\n    handleFilterChange,\n    handleFilterClick,\n    handleRemoveAllFilters,\n    setFilteredObjectValues,\n    handleRemoveOneFilter,\n    handleOrder,\n    handleOrderClick,\n  });\n\n  return (\n    <AuthContext.Provider value={ values }>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nAuthProvider.propTypes = {\n  children: PropTypes.shape({\n\n  }).isRequired,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}